<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BrainHarmonics: BrainHarmonics</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Linaro-logo-white.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BrainHarmonics
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BrainHarmonics </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>## This file forms the basis of build requirements to get the software to compile. ### Original code donated to the Open Source community by the NeuralMimicry Project, Paul Isaac's. 08-Apr-2020. ### Ongoing code to be managed via Linaro ## (c) Linaro 2020. ## May be freely copied whilst maintaining reference to origin and copyright. #### Based on an original idea: <a href="https://www.researchgate.net/publication/325069661_An_Outline_of_Artificial_Intelligence_and_Neuromorphic_technology_to_introduce_Auto-Asynchronous_Recursive_Neural_Networks_AARNN">https://www.researchgate.net/publication/325069661_An_Outline_of_Artificial_Intelligence_and_Neuromorphic_technology_to_introduce_Auto-Asynchronous_Recursive_Neural_Networks_AARNN</a></p>
<p>### NOTE: This is pre-alpha raw software in active development. At least 50% of which ### is still needed to be written down. It will break/is broken but you are welcome to ### join in the journey of development. The goal IS aspirational!</p>
<p>BrainHarmonics is the first code designed to implement Autonomic Asynchronous Recursive Neuromorphic Network. It is an infrastructure designed to enable the creation of emergent properties.</p>
<p>Stimuli are represented as spatio-temporal activations that cause interaction with emulated oscillations existing in loops of simulated neurons. When different groups of neurons are oscillating at different frequencies there will still be moments when points on the waveforms are in phase. This combined simulated energy combination causes onward stimuli to occur.</p>
<p>The software aims to make use of available scalability options such as Open MP for multi-threading on the same node; Open MPI for inter-node communication; Heterogeneous accelerators where available and appropriate.</p>
<p>Ensure you are using CMAKE v3.12 or greater. When libraries for the respective distro are not found, they should be compiled from source.</p>
<p>For cross-platform compatibility</p>
<div class="fragment"><div class="line">ln -s /home /Users</div></div><!-- fragment --><p>For Mac Users: Ensure the xcode command line tools are installed using: xcode-select &ndash;install The preference for compilation tools is to use MacPorts. Download from MacPorts.org After installing macports run:</p>
<div class="fragment"><div class="line">sudo port selfupdate</div><div class="line">sudo port upgrade outdated</div><div class="line">sudo port install atlas cmake doxygen gcc5 graphviz gtk2 gtk3 libdc1394 libpcap libpng libusb libuv mesa opencv pkgconfig python27 py27-numpy python36 py36-numpy tbb xorg-libXt x264 XviD</div></div><!-- fragment --><p> For Ubuntu Users </p><div class="fragment"><div class="line">sudo apt-get update</div><div class="line">sudo apt-get upgrade</div><div class="line"></div><div class="line">(for Ubuntu 14.x)</div><div class="line">sudo apt-get install build-essential git gcc-5 cmake pkg-config libgl1-mesa-dev libxt-dev libpcap-dev libmxml-dev libuv1-dev libusb-1.0-0-dev liballegro5-dev liballegro-ttf5-dev libjpeg-dev libjpeg8-dev libtiff-dev libtiff5-dev libjasper-dev libpng-dev libpng12-dev libavcodec-dev libavformat-dev libswscale-dev libv4l-dev libxvidcore-dev libx264-dev libgtk-3-dev libatlas-base-dev gfortran python-dev python-numpy python2.7-dev python3.5-dev libgtk2.0-dev libtbb2 libtbb-dev libdc1394-22-dev</div><div class="line"></div><div class="line">(for Ubuntu 18.x)</div><div class="line">sudo apt-get install build-essential git gcc cmake pkg-config libglfw3-dev libgl1-mesa-dev libxt-dev libpcap-dev libmxml-dev libuv1-dev libusb-1.0-0-dev liballegro5-dev liballegro-ttf5-dev libjpeg-dev libjpeg8-dev libtiff-dev libtiff5-dev libjasper-dev libpng-dev libpng12-dev libavcodec-dev libavformat-dev libswscale-dev libv4l-dev libxvidcore-dev libx264-dev libgtk-3-dev libatlas-base-dev gfortran python-dev python-numpy python2.7-dev python3.5-dev libgtk2.0-dev libtbb2 libtbb-dev libdc1394-22-dev</div></div><!-- fragment --><p> For Red Hat Users </p><div class="fragment"><div class="line">(for RHEL 8.x)</div><div class="line">sudo dnf update</div><div class="line"></div><div class="line">sudo dnf group install &quot;System Tools&quot; &quot;Development Tools&quot;</div><div class="line"></div><div class="line">There are Many libraries that can be interdependent for successful operation. Please refer to RHEL8.2-aarch64.txt for an indication of libraries that will be installed from a base OS.</div><div class="line"></div><div class="line">sudo dnf install glfw-devel opencv-devel libpcap-devel git autoconf automake meson ninja-build parallel rubygem-sass sassc optipng libffi-devel gcc redhat-rpm-config inkscape gtk3-devel gdk-pixbuf2-xlib glib2-devel glib2 libxml2-devel librsvg2-devel gnome-themes-standard gtk-murrine-engine gtk2-engines google-roboto-fonts google-noto-sans-fonts google-noto-sans-mono-fonts</div></div><!-- fragment --><p>Agree to all dependency install requirements</p>
<p>Base folder is ~/Developer</p>
<p>git clone <a href="#" onclick="location.href='mai'+'lto:'+'git'+'@g'+'ith'+'ub'+'.co'+'m'; return false;">git@g<span style="display: none;">.nosp@m.</span>ithu<span style="display: none;">.nosp@m.</span>b.com</a>:Linaro/BrainHarmonics.git</p>
<p>Folders created ~/Developer/BrainHarmonics</p>
<p>Install the VTK toolkit</p>
<div class="fragment"><div class="line">cd ~/Developer</div><div class="line">git clone https://gitlab.kitware.com/vtk/vtk.git</div><div class="line"></div><div class="line">mkdir ~/Developer/VTK-build</div><div class="line">mkdir ~/Developer/VTK-Release-build</div><div class="line">cd ~/Developer/VTK-build</div><div class="line">cmake ~/Developer/VTK</div></div><!-- fragment --><p> (Ubuntu element) </p><div class="fragment"><div class="line">cd ~/Developer/VTK-Release-build</div><div class="line">cmake -DCMAKE_BUILD_TYPE:STRING=Release ~/Developer/VTK</div><div class="line"></div><div class="line">cd ~/Developer/QT</div><div class="line">wget http://download.qt-project.org/official_releases/qt/5.9/5.9.2/qt-opensource-linux-x64-5.9.2.run</div><div class="line">chmod +x qt-opensource-linux-x64-5.9.2.run</div><div class="line">./qt-opensource-linux-x64-5.9.2.run</div><div class="line"></div><div class="line">cd ~/Developer/VTK-Release-build</div><div class="line">cmake -DVTK_QT_VERSION:STRING=5 \</div><div class="line">      -DQT_QMAKE_EXECUTABLE:PATH=~/Qt5.9.2/5.9.2/gcc_64/bin/qmake \</div><div class="line">      -DVTK_Group_Qt:BOOL=ON \</div><div class="line">      -DCMAKE_PREFIX_PATH:PATH=~/Qt5.9.2/5.9.2/gcc_64/lib/cmake  \</div><div class="line">      -DBUILD_SHARED_LIBS:BOOL=ON \</div><div class="line">      ~/Developer/VTK</div></div><!-- fragment --><p> (Common) </p><div class="fragment"><div class="line">make -j2</div><div class="line">sudo make install</div></div><!-- fragment --><p>Install OpenCV specifics (Linux only) </p><div class="fragment"><div class="line">cd ~/Developer</div><div class="line">git clone https://github.com/opencv/opencv.git</div><div class="line">cd ~/Developer/opencv</div><div class="line">mkdir release</div><div class="line">cd release</div><div class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_CXX_FLAGS=-std=c++11 ..</div><div class="line">make</div><div class="line">sudo make install</div></div><!-- fragment --><p>(MacOS element) </p><div class="fragment"><div class="line">wget http://download.qt.io/official_releases/qt/5.9/5.9.2/qt-opensource-mac-x64-5.9.2.dmg</div></div><!-- fragment --><p> Run the dmg to open the QT installer (skip account creation) and then install VTK (the make process is a Very long process) </p><div class="fragment"><div class="line">cd ~/Developer/VTK-build</div><div class="line">sudo make install</div></div><!-- fragment --><p>Install libcaer and its dependencies (Linux &amp; MacOS)</p>
<div class="fragment"><div class="line">cd ~/Developer</div><div class="line">git clone https://github.com/inilabs/libcaer.git</div><div class="line">cd libcaer</div><div class="line">cmake -DENABLE_OPENCV=1 -DCMAKE_INSTALL_PREFIX=/usr .</div><div class="line">make</div><div class="line">sudo make install</div></div><!-- fragment --><p>Build procedure.</p>
<div class="fragment"><div class="line">mkdir ~/Developer/BrainHarmonics/build</div><div class="line">cd ~/Developer/BrainHarmonics/build</div><div class="line">cmake ../</div><div class="line">make all</div></div><!-- fragment --><p>How to run...</p>
<p>Once built, execute ./build/BrainHarmonics from the ~/Developer/BrainHarmonics folder.</p>
<p>Overview: Creates a number of simulation universes from which to create neurons/synapses.</p>
<p>Skeletal framework exists to call Python routines if required. Currently minimal parameterisation files but elements are there.</p>
<h1>Running inside a VM </h1>
<p>BrainHarmonics execution relies on a graphical interface and it uses OpenGL. Although it is possible to implement support entirely in software, it has been designed to be mostly or entirely in hardware. There exist several options when working with BrainHarmonics inside a VM:</p>
<p>1) assign a graphics card device to the VM. 2) use X forwarding with ssh. 3) use virtio VGA drivers.</p>
<p>From a performance point of view 1) is the best option. Note this can require to assign a full device or just partially through SRIOV (VFs or mediated devices). If there is not support for SRIOV, assigning the device to the VM implies the Host not being able to use it which can be problematic in most desktop systems.</p>
<p>X forwarding has a main problem: apps using DRI calls after. This option allows an X server in the Host doing the rendering, but that is helpless if X clients go straight to the device through DRI before redirecting to the X server.</p>
<p>Virtio-gpu is likely the best/easiest option as it is a mature technology now thanks to the Virgil3d project.</p>
<p>Using this option requires a QEMU executable supporting SDL and OpenGL, options "--enable-sdl" and "--enable-opengl" when configuring sources before compilation. With that support, qemu needs to be launched with "-device virtio-gpu-pci -display sdl,gl=on". A graphical interface is created and it will be used for showing BH window.</p>
<p>Running a graphical app is not usually supported by default if you are using an image offered by distributions to be used on VMs. If that is the case the X11 server package needs to be installed. But you do not need a full graphical interface but just to run the X server for BH:</p>
<p>startx "${HOME}/Developer/BrainHarmonics/build/BrainHarmonics"</p>
<p>This requires to give permissions for using the graphical console to the user running that command. Adding next line to /etc/X11/Xwrapper.config will solve the problem:</p>
<p>allowed_users = anybody </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
